### npm v2 
在安装依赖时将依赖放到项目的 node_modules 文件中；同时如果某个直接依赖 A 还依赖其他模块 B，作为间接依赖，模块 B 将会被下载到 A 的 node_modules 文件夹中，依此递归执行，最终形成了一颗巨大的依赖模块树。
这样有可能形成“嵌套地狱”。

+ 项目依赖树的层级非常深，不利于调试和排查问题；
+ 依赖树的不同分支里，可能存在同样版本的相同依赖。比如直接依赖 A 和 B，但 A 和 B 都依赖相同版本的模块 C，那么 C 会重复出现在 A 和 B 依赖的 node_modules 中。

### npm v3
改成了扁平结构。

+ npm 包的安装顺序对于依赖树的影响很大。模块安装顺序可能影响 node_modules 内的文件数量。我们可以删除 node_modules，重新安装
+ 也可以使用npm dedupe整理树结构。