### 审核中台
+ 审核可视化配置平台 实现审核队列、模板、对象、规则功能一站式配置，审核页面配置与编辑；
+ 业务方可快速 自助接入审核，释放开发人力 支持质检、巡查、审核平台等多平台的快速接入；
+ 核心场景ROI：7.56%，核心+新场景ROI： 48.58% 主要技术：Vue.js、mongoDB、Node.js

### 金字塔模型

#### 项目背景
+ 业务发展背景
    + 审核平台多个业务包括机器、人工审核、质检、巡查，以及基础平台工单平台，基石平台。
    + 流程上，多个平台不统一。
    + 审核详情页面展示上，以上的多个平台独立存在，每次新增一个业务都需要每个项目同步开发，浪费大量人力。
    + 同时也存在不同平台因为互相没有一致性约束，因此展示信息不一致的问题。

    因此，将平台整合，流程可配置，Low Code（低代码）搭建可以节省开发人力，为工程化的建设（如统一的性能监控和提升）奠定基础。
+ 描述
    + 流程上可配置所有审核流程的平台
    + 审核页面，统一配置审核页面
    + 上述操作都是可视化操作的
    + 它的构成
        + 流程侧：一系列规则配置
        + 审核页面侧：编辑器、落地页服务， 其中编辑器和落地页服务共享同一套组件数据，同一套解析器，每一个个业务对应一套规则，规则里包括审核页面的schema。
#### 难点
1. 通用性 和 业务的定制性的冲突
    + 尽可能预留接口
    + 收敛业务，制定边界，这个边界要提前和产品/审核人员（使用方）沟通和同步至少一个双月以上的目标和边界
    + 实在有冲突，则进行版本维护和降级，维持一个版本号，版本号在组件和解析器发布后更新，这样来保证复现的是当时的审核结果
2. Low Code 的代码注入部分
    + 它是可视化操作和代码的结合，主要面向业务的不确定性，主要用于中后台。无代码用于支持静态的页面，之前生成建站。组件需要运行的脚本逻辑放在了另外一个项目中。
    + 技术上：这部分JS的注入设计做了一系列的设计，以事件为例：
        + 事件分为交互事件和数据请求事件
    + 业务上，注入这部分代码违背了初衷 —— 给不会编程的人提供搭建平台的能力。
        + 对此，把所有的事件类型都罗列在可筛选项，把当前页面所有组件ID，以可视化的组件方式暴露出来，回调处理以可选项的方式选择
3. 前期设计方案的不完善以及后期业务迭代，导致组件和编辑器版本迭代
    + 同1中的版本维护和管理



### 总结&思考
#### 如何借力 Low Code / No Code 技术，实现越来越智能的应用搭建方案？
无代码用于支持静态的页面，之前生成建站。组件需要运行的脚本逻辑放在了另外一个项目中。
低代码属于无代码搭建的中间层，它是可视化操作和代码的结合，主要面向业务的不确定性，主要用于中后台。

在审核中台的开发过程中，低代码的注入在设计和技术层面都具有一定的难点，设计上，它违背了初衷——给不会编程的人提供搭建平台的能力。技术上，JS注入需要联动页面中的组件，执行JS，具有一定的难度。

比如说：点击组件A 弹出 组件B

衍生了一个想法：

1. 在审核中台搭建的过程中，其中一个难点是逻辑树的构建，提供可视化的构建流程结构，编辑流程的过程，一个个选取节点，相对麻烦。

设计简单逻辑语言 - 词法分析 - AST重新组装成渲染器识别的树结构

2. 对组件严格分层化
整个过程分为组件层和逻辑层。
首先是组件层，编辑完所有组件后，再进行逻辑层的编辑，逻辑层经过步骤1重新整合成JS脚本。


#### 如何区分开发边界，比如前端如何更好地利用 Node.js 方案开疆扩土？
项目中Node层的功能主要有
+ 在编辑侧，管理模版 新建，保存，读取，编辑。
+ 提供页面服务，其中提供页面服务的Node 承载压力大，并法数高

这个项目在Node层承接了所有功能，后端提供的服务通过RPC调用

#### 不足之处
+ 编辑侧和页面服务的部署应该分离
+ 一些细节地方，如模版schema的保存JSON.stringify比较粗暴

#### 性能方面
+ 首先确定指标
    + 首屏时间可以拆分为白屏时间、数据接口响应时间、图片加载资源等
+ 可优化的点
    + 本地缓存
    + 数据缓存 redis
    + 域名散列
    + 构建 DOM 树的瓶颈点
        +  HTML 标签不满足 Web 语义化
+ 数据采集方式
    + 手动采集
        + FMP.End()-FMP.Start()
    + 自动化采集

#### 项目管理
+ 新老版本共存
+ 渲染器和组件分别更新时的版本问题
+ 中台开发：指标问题
+ 中台开发：通用性和定制性问题


### 沉浸式广告
沉浸式广告 前端开发 创建原生落地页广告的建站平台 使用React Native在客户端动态渲染落地页 和H5落地页相比，打开速度提升30%，渲染速度提升20% 主要技术：React Native、Vue.js、JSBridge、SSR
#### 如何制定跨端方案，Write Once，Run Everywhere 是否真的可行？

#### 如何做性能监控和提升
+ webp
+ 缓存：客户端预加载
+ CDN：用户可就近取得所需内容，解决 Internet网络拥挤的状况，提高用户访问网站的响应速度和成功率
+ 拆包

#### 新项目的技术选型、打包工具的使用、脚手架
// TODO：

### 广告插件
提高审核一线效率的浏览器扩展 覆盖一线审核人员100%，提升效率10%左右；支持其他平台的对外赋能，如素材匹配服 务的黑词识别高亮、素材积累、审核OCR等，支持效率提升便捷操作，如快审和截图 主要技术：浏览器插件开发
提供一种方式，将各个服务打包，提供给用户使用



+ 建站Vue.js 建站、H5
+ 落地页RN  客户端
+ 如何实现预览一致 ？ 扫码
+ RN的容器、封装JS底层交互、API映射、JS运行环境

+ RN 胶水层 JS和NAtive通信 ，JS 和 Native 通信


+ Node 环境出问题
    + Node 重启
    + 云服务：Docker容器，从服务发现摘除，IP从注册环境删除，不会达到debug的容器
    + Debug

    + 监控：服务本身指标、接口时长
    + 逻辑分枝处打日志
    + Node本身监控

+ 项目收益
    + 提升开发效率，节约人力
    + 为后续审核工程化基础建设提供支持


+ 事件绑定有低代码、平台方法和数据源三种不同的动作类型，能基本满足开发者的组件动作逻辑设计需求。



+ 低代码平台绑定事件
    + 事件绑定有低代码、平台方法和数据源三种不同的动作类型，能基本满足开发者的组件动作逻辑设计需求。
    + 提供事件mixins混入到组件，每个事件方法返回promise，元素被点击时按顺序执行事件方法


    page-render.vue  renderEvent